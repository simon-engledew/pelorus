digraph "<%= sanitize_label(map.name) %>" {
  rankdir=BT;
  graph [truecolor bgcolor="transparent"];
  node [shape=box];
  pad=0.25;
  <%= render :partial => 'network_goal', :collection => map.children %>
  <% map.goals.each do |goal| -%>
    <% goal.supporting_goals.each do |supporting_goal| -%>
      <%= supporting_goal.supported_by.id %> -> <%= supporting_goal.goal.id %> [
        style=<%= supporting_goal.supported_by.propagate ? 'solid' : 'dotted' %>,
        color="<%= line_color(supporting_goal.supported_by.status) %>",
        penwidth="2"
      ];)
    <% end -%>
  <% end -%>
}